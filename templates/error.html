{% extends "base.html" %}

{% block title %}Issue Detected ({{ error_code }}){% endblock %}

{% block content %}
<main class="pt-32 pb-12 px-6 max-w-2xl mx-auto text-center">
    <div class="mb-8 text-slate-300">
        <i class="fas fa-exclamation-circle text-6xl"></i>
    </div>

    <h1 class="text-3xl font-black text-slate-900 mb-4 italic tracking-tighter">
        Something didn't go as planned.
    </h1>
    
    <p class="text-lg text-slate-600 mb-8 leading-relaxed">
        We encountered a <span class="font-mono bg-slate-100 px-2 py-1 rounded text-sm uppercase">{{ error_code }}</span> error. 
        {{ error_message if error_message else "The page you are looking for might have moved or is temporarily unavailable." }}
    </p>

    <div class="flex flex-col sm:flex-row justify-center gap-4 mb-12">
        <a href="{{ url_for('home') }}" class="bg-slate-900 text-white px-8 py-3 rounded-full font-bold text-sm hover:bg-blue-600 transition shadow-lg">
            Return to Dashboard
        </a>
        <button onclick="document.getElementById('tech-details').classList.toggle('hidden')" class="text-slate-400 hover:text-slate-600 text-sm font-semibold underline decoration-2 underline-offset-4">
            View Technical Details
        </button>
    </div>

    <div id="tech-details" class="hidden text-left animate-fade-in">
        <div class="bg-slate-50 border border-slate-200 rounded-xl p-6 shadow-inner">
            <h2 class="text-[10px] font-black uppercase tracking-[0.2em] text-slate-400 mb-3">System Traceback</h2>
            <div class="bg-white border border-slate-100 rounded p-4 overflow-x-auto">
                <pre class="text-[10px] text-slate-500 font-mono leading-tight">{{ traceback }}</pre>
            </div>
        </div>
    </div>
</main>

<style>
    @keyframes fade-in {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fade-in 0.4s ease-out forwards; }
</style>
{% endblock %}