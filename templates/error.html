{% extends "base.html" %}

{% block title %}Issue Detected ({{ error_code }}){% endblock %}

{% block head %}
    <style>
        .error-container {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .error-card {
            animation: slideUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
{% endblock %}

{% block content %}
<main class="error-container pt-32 pb-20 px-6">
    <div class="error-card max-w-2xl w-full bg-white rounded-[3rem] shadow-2xl border border-gray-100 p-10 md:p-16 text-center">
        
        <div class="inline-flex items-center justify-center w-20 h-20 bg-blue-50 rounded-3xl mb-8 rotate-3 hover:rotate-0 transition-transform duration-500">
            <i class="fas fa-compass text-4xl text-blue-600 animate-pulse"></i>
        </div>

        <h1 class="text-4xl md:text-5xl font-black text-gray-900 mb-4 tracking-tighter italic">
            Lost in the simulation?
        </h1>
        
        <p class="text-xl text-gray-600 mb-10 leading-relaxed">
            We encountered a <span class="font-mono bg-blue-50 text-blue-700 px-2 py-1 rounded text-base font-bold">{{ error_code }}</span>. 
            {{ error_message if error_message else "The page you're looking for might have moved or is temporarily unavailable." }}
        </p>

        <div class="flex flex-col sm:flex-row justify-center gap-4 mb-12">
            <a href="{{ url_for('home') }}" class="bg-blue-600 text-white px-10 py-4 rounded-2xl font-bold hover:bg-blue-700 transition transform hover:scale-105 shadow-lg flex items-center justify-center gap-2">
                <i class="fas fa-home"></i> Return Home
            </a>
            <button onclick="window.history.back()" class="bg-gray-900 text-white px-10 py-4 rounded-2xl font-bold hover:bg-black transition flex items-center justify-center gap-2">
                <i class="fas fa-arrow-left"></i> Go Back
            </button>
        </div>

        <div class="pt-8 border-t border-gray-100">
            <button onclick="document.getElementById('tech-details').classList.toggle('hidden')" class="text-gray-400 hover:text-blue-600 text-xs font-black uppercase tracking-[0.2em] transition">
                Technical Traceback <i class="fas fa-chevron-down ml-1"></i>
            </button>
            
            <div id="tech-details" class="hidden mt-6 text-left">
                <div class="bg-gray-50 rounded-2xl p-6 overflow-x-auto border border-gray-100 shadow-inner">
                    <pre class="text-[10px] text-gray-500 font-mono leading-tight">{{ traceback }}</pre>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}